import React from 'react';
import Thumbnail from './Thumbnail';

const data = {
    "kind": "youtube#searchListResponse",
    "etag": "c_CxOBHyXBP0o_7PTZxqojoxjuA",
    "nextPageToken": "CAUQAA",
    "regionCode": "DE",
    "pageInfo": {
      "totalResults": 1000000,
      "resultsPerPage": 5
    },
    "items": [
      {
        "kind": "youtube#searchResult",
        "etag": "OFrRZwRv9olWMwjjSKrVUjP105s",
        "id": {
          "kind": "youtube#video",
          "videoId": "BnyvDBGojoQ"
        },
        "snippet": {
          "publishedAt": "2021-12-10T05:00:11Z",
          "channelId": "UC9CoOnJkIBMdeijd9qYoT_g",
          "title": "Ariana Grande &amp; Kid Cudi - Just Look Up (Full Performance from ‘Don&#39;t Look Up’)",
          "description": "The official \"Just Look Up\" full performance video by Ariana Grande & Kid Cudi from 'Don't Look Up (Soundtrack from the Netflix Film).' Listen & download “Just ...",
          "thumbnails": {
            "default": {
              "url": "https://i.ytimg.com/vi/BnyvDBGojoQ/default.jpg",
              "width": 120,
              "height": 90
            },
            "medium": {
              "url": "https://i.ytimg.com/vi/BnyvDBGojoQ/mqdefault.jpg",
              "width": 320,
              "height": 180
            },
            "high": {
              "url": "https://i.ytimg.com/vi/BnyvDBGojoQ/hqdefault.jpg",
              "width": 480,
              "height": 360
            }
          },
          "channelTitle": "Ariana Grande",
          "liveBroadcastContent": "none",
          "publishTime": "2021-12-10T05:00:11Z"
        }
      },
      {
        "kind": "youtube#searchResult",
        "etag": "ym2nCDEydG930y8BplyzqMYmZ_s",
        "id": {
          "kind": "youtube#video",
          "videoId": "tcYodQoapMg"
        },
        "snippet": {
          "publishedAt": "2020-10-23T04:00:10Z",
          "channelId": "UC0VOyT2OCBKdQhF3BAbZ-1g",
          "title": "Ariana Grande - positions (official video)",
          "description": "The official “positions” music video by Ariana Grande. Listen & download the song here: http://arianagrande.lnk.to/positions ▻Subscribe to Ariana Grande: ...",
          "thumbnails": {
            "default": {
              "url": "https://i.ytimg.com/vi/tcYodQoapMg/default.jpg",
              "width": 120,
              "height": 90
            },
            "medium": {
              "url": "https://i.ytimg.com/vi/tcYodQoapMg/mqdefault.jpg",
              "width": 320,
              "height": 180
            },
            "high": {
              "url": "https://i.ytimg.com/vi/tcYodQoapMg/hqdefault.jpg",
              "width": 480,
              "height": 360
            }
          },
          "channelTitle": "ArianaGrandeVevo",
          "liveBroadcastContent": "none",
          "publishTime": "2020-10-23T04:00:10Z"
        }
      },
      {
        "kind": "youtube#searchResult",
        "etag": "Iz2UZ2zgjrE8T7NbcGBKM7qu8Fc",
        "id": {
          "kind": "youtube#video",
          "videoId": "QYh6mYIJG2Y"
        },
        "snippet": {
          "publishedAt": "2019-01-18T04:57:49Z",
          "channelId": "UC0VOyT2OCBKdQhF3BAbZ-1g",
          "title": "Ariana Grande - 7 rings (Official Video)",
          "description": "Official video by Ariana Grande performing “7 rings” – available now: https://ArianaGrande.lnk.to/tun-albumPV Subscribe for more official content from Ariana: ...",
          "thumbnails": {
            "default": {
              "url": "https://i.ytimg.com/vi/QYh6mYIJG2Y/default.jpg",
              "width": 120,
              "height": 90
            },
            "medium": {
              "url": "https://i.ytimg.com/vi/QYh6mYIJG2Y/mqdefault.jpg",
              "width": 320,
              "height": 180
            },
            "high": {
              "url": "https://i.ytimg.com/vi/QYh6mYIJG2Y/hqdefault.jpg",
              "width": 480,
              "height": 360
            }
          },
          "channelTitle": "ArianaGrandeVevo",
          "liveBroadcastContent": "none",
          "publishTime": "2019-01-18T04:57:49Z"
        }
      },
      {
        "kind": "youtube#searchResult",
        "etag": "N7lqyJHVVNxKGaJAuObqssEzAVU",
        "id": {
          "kind": "youtube#video",
          "videoId": "NhE5t8i1ufs"
        },
        "snippet": {
          "publishedAt": "2021-12-10T09:19:54Z",
          "channelId": "UCKU0iO0axnimO3b0G-BOO_g",
          "title": "Adele, Ed Sheeran, Maroon 5, Dua Lipa, Taylor Swift, Ariana Grande, Sam Smith - Pop Hits 2022",
          "description": "Pop Hits 2022 - Adele, Ariana Grande, The Weeknd, Maroon 5, Justin Bieber - Best English Song 2022 Pop Hits 2022 - Adele, Ariana Grande, The Weeknd, ...",
          "thumbnails": {
            "default": {
              "url": "https://i.ytimg.com/vi/NhE5t8i1ufs/default_live.jpg",
              "width": 120,
              "height": 90
            },
            "medium": {
              "url": "https://i.ytimg.com/vi/NhE5t8i1ufs/mqdefault_live.jpg",
              "width": 320,
              "height": 180
            },
            "high": {
              "url": "https://i.ytimg.com/vi/NhE5t8i1ufs/hqdefault_live.jpg",
              "width": 480,
              "height": 360
            }
          },
          "channelTitle": "Music UC",
          "liveBroadcastContent": "live",
          "publishTime": "2021-12-10T09:19:54Z"
        }
      },
      {
        "kind": "youtube#searchResult",
        "etag": "HM76QWb7dbS114k7C-9Gca9OTzw",
        "id": {
          "kind": "youtube#video",
          "videoId": "bSHz5S3yIzg"
        },
        "snippet": {
          "publishedAt": "2021-12-07T05:00:11Z",
          "channelId": "UCc1Dg-KhUf1eIRhk1Hyrt0w",
          "title": "Jimmy Fallon ft. Ariana Grande &amp; Megan Thee Stallion - It Was A…(Masked Christmas)",
          "description": "The official \"It Was A…(Masked Christmas)\" music video by Jimmy Fallon, Ariana Grande, & Megan Thee Stallion. Listen & download here: ...",
          "thumbnails": {
            "default": {
              "url": "https://i.ytimg.com/vi/bSHz5S3yIzg/default.jpg",
              "width": 120,
              "height": 90
            },
            "medium": {
              "url": "https://i.ytimg.com/vi/bSHz5S3yIzg/mqdefault.jpg",
              "width": 320,
              "height": 180
            },
            "high": {
              "url": "https://i.ytimg.com/vi/bSHz5S3yIzg/hqdefault.jpg",
              "width": 480,
              "height": 360
            }
          },
          "channelTitle": "JimmyFallonVEVO",
          "liveBroadcastContent": "none",
          "publishTime": "2021-12-07T05:00:11Z"
        }
      }
    ]
  }



class SearchBar extends React.Component {
    constructor() {
        super();
        this.state = {
            userInput: '',
            submitted: false,
            // data: [],
        }
    }
    
    handleSubmit = (event) => {
        event.preventDefault();
        this.setState({
            userInput: event.target.searchbar.value,
            submitted: true,
        })
        event.target.searchbar.value = '';

        // fetch(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&key=${process.env.REACT_APP_API_KEY}&type=video&q=${this.state.userInput}`)
        // fetch(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&key=AIzaSyAzAqewTtjMPp4vQ0axyBb-3KEt8nfUITM&type=video&q=${this.state.userInput}`)
        // .then((response) => response.json())
        // .then((YTdata) => this.setState({ data: YTdata }))
        // .catch((error) => {
        //     throw error;
        // })
    } 
    
    render() {
        return (
            <div>
                <form onSubmit={this.handleSubmit}>
                    <input type='text' placeholder='type here' name='searchbar' required />
                    <button type='submit' value='search'>Search</button>
                </form>
                <div>{this.state.userInput ? <Thumbnail data={data} /> : 'No Search Results Yet! Please submit a search above :)'}</div>
            </div>
        )
    }
}

export default SearchBar;